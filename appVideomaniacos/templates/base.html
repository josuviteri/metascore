<!DOCTYPE html>
{% load static %}
{% load i18n %} <html lang="{{ LANGUAGE_CODE }}"> <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block titulo %}MetaScore{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/estilos.css' %}">
    <link rel="icon" type="image/png" href="{% static 'images/favicon.png' %}">
    
    <style>  
        .lang-switch { position: absolute; top: 20px; right: 20px; }
        .lang-btn { background: none; border: 1px solid #fff; color: #fff; padding: 5px; cursor: pointer; font-size: 0.8em; }
        .lang-btn:hover { background: rgba(255,255,255,0.2); }

            /* DARK MODE BASE */
    body.dark-mode {
        background-color: #1e1e1e;
        color: black;
    }

    

    h2.dark-mode .videojuegos-section h2 {
    color: white;
    }

    
    

    header.dark-mode, nav.dark-mode, footer.dark-mode, body.dark-mode {
        background-color: #111;
    }

    /* Dark mode toggle button */
    #darkModeToggle {
        position: absolute;
        top: 20px;
        left: 20px;
        padding: 6px 24px;
        border-radius: 6px;
        cursor: pointer;
        border: 1px solid #fff;
        background: transparent;
        color: white;
        font-size: 0.8em;
    }

    #darkModeToggle:hover {
        background: rgba(255, 255, 255, 0.2);
    }


    </style> */


</head>
<body>
    <header>
        <h1>MetaScore</h1>
        <button id="darkModeToggle">ðŸŒ™</button>

        <div class="lang-switch">
            <form action="{% url 'set_language' %}" method="post">
                {% csrf_token %}
                <input name="next" type="hidden" value="{{ redirect_to }}">
                <select name="language" onchange="this.form.submit()" style="padding: 5px; border-radius: 5px;">
                    {% get_current_language as LANGUAGE_CODE %}
                    {% get_available_languages as LANGUAGES %}
                    {% get_language_info_list for LANGUAGES as languages %}
                    {% for language in languages %}
                        <option value="{{ language.code }}"{% if language.code == LANGUAGE_CODE %} selected{% endif %}>
                            {{ language.name_local }} ({{ language.code }})
                        </option>
                    {% endfor %}
                </select>
            </form>
        </div>

        <nav>
            <a href="{% url 'index' %}">{% trans "Inicio" %}</a> |
            <a href="{% url 'videojuegos' %}">{% trans "Videojuegos" %}</a> |
            <a href="{% url 'generos' %}">{% trans "GÃ©neros" %}</a> |
            <a href="{% url 'plataformas' %}">{% trans "Plataformas" %}</a> |
            <a href="{% url 'formulario' %}">{% trans "Sugerir juego" %}</a> |
            <a href="{% url 'formulario_contacto' %}">{% trans "ContÃ¡ctanos" %}</a> 
            
        </nav>
    </header>

    <main>
        {% block contenido %}{% endblock %}
    </main>

    <footer>
        <p>&copy; 2025 MetaScore â€” IW-BI-10 - {% trans "Todos los derechos reservados" %}</p>
    </footer>

    <script>
        // Load saved mode on page load
        if (localStorage.getItem("dark-mode") === "enabled") {
            document.body.classList.add("dark-mode");
            document.querySelector("header").classList.add("dark-mode");
            document.querySelector("nav").classList.add("dark-mode");
            document.querySelector("footer").classList.add("dark-mode");
        }

        // Toggle dark mode button
        document.getElementById("darkModeToggle").addEventListener("click", () => {
            const isEnabled = document.body.classList.toggle("dark-mode");

            document.querySelector("header").classList.toggle("dark-mode");
            document.querySelector("nav").classList.toggle("dark-mode");
            document.querySelector("footer").classList.toggle("dark-mode");

            if (isEnabled) {
                localStorage.setItem("dark-mode", "enabled");
            } else {
                localStorage.removeItem("dark-mode");
            }
        });
    </script>



</body>
</html>