{% extends "base.html" %}
{% load static %}

{% block titulo %}{{ genero.nombre }} - Videomaníacos{% endblock %}

{% block contenido %}
<section class="genero-detalle">
    <div class="header-genero">
        <h2>{{ genero.nombre }}</h2>
        <p class="subtitulo-genero">Descubre todos los videojuegos de este género</p>
    </div>

    {% if videojuegos %}
    <div class="grid-genero">
        {% for juego in videojuegos %}
        <article class="card-genero-juego">
            <div class="imagen-juego">
                {% if juego.imagen %}
                    <img src="{% static 'images/' %}{{ juego.imagen }}" alt="Imagen de {{ juego.titulo }}">
                {% else %}
                    <img src="{% static 'images/no-image.png' %}" alt="Sin imagen disponible">
                {% endif %}
            </div>

            <div class="contenido-juego">
                <h3 class="videojuego-title">
                    <a href="{% url 'detalle_videojuego' juego.id %}">{{ juego.titulo }}</a>
                </h3>
                <p class="descripcion">{{ juego.descripcion|truncatewords:20 }}</p>
                <p class="plataformas"><strong>Plataformas:</strong>
                    {% for p in juego.plataformas.all %}
                        {{ p.nombre }}{% if not forloop.last %}, {% endif %}
                    {% endfor %}
                </p>
                <a class="btn-ver" href="{% url 'detalle_videojuego' juego.id %}">Ver detalles</a>
            </div>
        </article>
        {% endfor %}
    </div>
    {% else %}
    <p class="sin-juegos">No hay videojuegos registrados en este género.</p>
    {% endif %}

    <a href="{% url 'generos' %}" class="btn-volver">← Volver a géneros</a>
</section>
{% endblock %}
