{% extends "base.html" %}
{% load static %}

{% block titulo %}Sugerir videojuego - MetaScore{% endblock %}

{% block contenido %}
<section class="form-section">
  <h2>Nuevo videojuego</h2>

  <form action="{% url 'sugerir_videojuego' %}" method="post" enctype="multipart/form-data" class="form-card">
    {% csrf_token %}

    <div class="form-grid">
      <div class="form-field">
        <label for="titulo">Título</label>
        <input type="text" id="titulo" name="titulo" placeholder="Ej. Hollow Knight" required>
      </div>

      <div class="form-field">
        <label for="genero">Género</label>
        <select id="genero" name="genero_id" required>
          {% for g in generos %}
            <option value="{{ g.id }}">{{ g.nombre }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="form-field">
        <label for="plataformas">Plataformas</label>
        <select id="plataformas" name="plataformas_ids" multiple size="5" required>
          {% for p in plataformas %}
            <option value="{{ p.id }}">{{ p.nombre }}</option>
          {% endfor %}
        </select>
        <small>Usa Ctrl para seleccionar varias.</small>
      </div>

      <div class="form-field">
        <label for="fecha">Fecha de lanzamiento</label>
        <input type="date" id="fecha" name="fechalanzamiento" required>
      </div>

      <div class="form-field">
        <label for="score">Score</label>
        <input type="number" id="score" name="score" min="0" max="100" step="1" placeholder="0-100" required>
      </div>

      <div class="form-field">
        <label for="imagen">Imagen (archivo)</label>
        <input type="file" id="imagen" name="imagen" accept="image/*">
      </div>

      <div class="form-field">
        <label for="imagen_nombre">Imagen (nombre en static/images)</label>
        <input type="text" id="imagen_nombre" name="imagen_nombre" placeholder="ej. hollow_knight.png">
      </div>

      <div class="form-field form-field-full">
        <label for="descripcion">Descripción</label>
        <textarea id="descripcion" name="descripcion" rows="6" placeholder="Resumen del videojuego..." required></textarea>
      </div>
    </div>

    <div class="form-actions">
      <button type="submit" class="btn-primario">Guardar</button>
      <a href="{% url 'videojuegos' %}" class="btn-secundario">Cancelar</a>
    </div>
  </form>
</section>
{% endblock %}
